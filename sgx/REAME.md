# Notes

This application runs in SGX **SIMULATION** mode, if you need to run it in hardware mode, please first ensure that the CPU on your device is newer than the 6th generation (Skylake), and that the SGX feature is fully enabled by the BIOS settings. Also, to run the application, you need to install Intel's SGX SDK and SGX drivers for the Linux OS.

## Some Guidances For Writing SGX Applications

* Enclave functions should be declared in `./include/enclave/*.hh`.
* Unstrusted functions should be declared in `./include/app/*.hh`.
* Wrapper functions such as `ecall_xxx()`, `ocall_xxx()` should also be defined in `./include/app/*.hh`.
* The trusted interfaces declared in `enclave.edl` should be implemented in file `./src/enclave/*.cc`, and the untrusted interfaces should be implemented in file `./src/app/*.cc`.
* The proxy functions are auto-generated by `sgx_edger8r`, do not modify them.
* You could always set the SGX environment arguments by adding one command to your shell's rc:

```shell
echo "source <SGX_PATH>/sgxsdk/environment" >> $HOME/.zshrc;
```

## Remote Attestation

* This version enables the Remote Attestation technology for Intel SGX.
* To serialize all the messages that are being transported via network, Google Protobuf is a must.
* Also, to start an encrypted session and make the application easier to use, we deployed the Google RPC (Remote Procedure Call). To install gRPC, run the following command:

```shell
sudo apt install libgrpc-dev
```

For more information, interested readers are referred to [this](https://grpc.io).
